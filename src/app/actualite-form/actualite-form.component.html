<div *ngIf="loading" class="d-flex justify-content-center align-items-center mb-3">
  <div class="spinner-border text-success" role="status" style="width: 2rem; height: 2rem;">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<form [formGroup]="form" (ngSubmit)="onSubmit()" class="p-4 rounded shadow-sm" style="background-color: rgba(189, 206, 49, 0.1);">
  <div class="mb-3">
    <label for="title" class="form-label fw-bold text-dark">Titre</label>
    <input type="text" id="title" formControlName="title" class="form-control shadow-sm" placeholder="Entrez le titre" formControlName="title" />
    <small *ngIf="form.get('title')?.invalid && form.get('title')?.touched" class="text-danger">
      Le titre est requis.
    </small>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label fw-bold text-dark">Description</label>
    <textarea id="description" formControlName="description" class="form-control shadow-sm" rows="4" placeholder="Entrez la description" formControlName="description"></textarea>
    <small *ngIf="form.get('description')?.invalid && form.get('description')?.touched" class="text-danger">
       La description est requise.
    </small>
  </div>

  <div class="mb-4">
    <label for="image" class="form-label fw-bold text-dark">Image</label>
    <input type="file" id="image" (change)="onFileChange($event)" class="form-control shadow-sm" />
     <small *ngIf="!isFileValid" class="text-danger">
         L'image est requise.
    </small>
  </div>

  <div class="text-center">
    <button type="submit" class="btn text-white fw-bold" style="background-color: #BDCE31;" [disabled]="form.invalid">
    <i class="bi bi-save me-1"></i> Enregistrer
  </button>
  </div>
</form>